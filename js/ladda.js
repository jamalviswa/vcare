/*!
 * Ladda
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2016 Hakim El Hattab, http://hakim.se
 */
(function(a,b){if(typeof exports==="object"){module.exports=b(require("spin.js"))}else{if(typeof define==="function"&&define.amd){define(["spin"],b)}else{a.Ladda=b(a.Spinner)}}}(this,function(c){var e=[];function f(l){if(typeof l==="undefined"){console.warn("Ladda button target must be defined.");return}if(!/ladda-button/i.test(l.className)){l.className+=" ladda-button"}if(!l.hasAttribute("data-style")){l.setAttribute("data-style","expand-right")}if(!l.querySelector(".ladda-label")){var m=document.createElement("span");m.className="ladda-label";j(l,m)}var o,n=l.querySelector(".ladda-spinner");if(!n){n=document.createElement("span");n.className="ladda-spinner"}l.appendChild(n);var p;var k={start:function(){if(!o){o=i(l)}l.setAttribute("disabled","");l.setAttribute("data-loading","");clearTimeout(p);o.spin(n);this.setProgress(0);return this},startAfter:function(q){clearTimeout(p);p=setTimeout(function(){k.start()},q);return this},stop:function(){l.removeAttribute("disabled");l.removeAttribute("data-loading");clearTimeout(p);if(o){p=setTimeout(function(){o.stop()},)}return this},toggle:function(){if(this.isLoading()){this.stop()}else{this.start()}return this},setProgress:function(q){q=Math.max(Math.min(q,1),0);var r=l.querySelector(".ladda-progress");if(q===0&&r&&r.parentNode){r.parentNode.removeChild(r)}else{if(!r){r=document.createElement("div");r.className="ladda-progress";l.appendChild(r)}r.style.width=((q||0)*l.offsetWidth)+"px"}},enable:function(){this.stop();return this},disable:function(){this.stop();l.setAttribute("disabled","");return this},isLoading:function(){return l.hasAttribute("data-loading")},remove:function(){clearTimeout(p);l.removeAttribute("disabled","");l.removeAttribute("data-loading","");if(o){o.stop();o=null}for(var r=0,q=e.length;r<q;r++){if(k===e[r]){e.splice(r,1);break}}}};e.push(k);return k}function g(l,k){while(l.parentNode&&l.tagName!==k){l=l.parentNode}return(k===l.tagName)?l:undefined}function b(o){var n=["input","textarea","select"];var k=[];for(var m=0;m<n.length;m++){var p=o.getElementsByTagName(n[m]);for(var l=0;l<p.length;l++){if(p[l].hasAttribute("required")){k.push(p[l])}}}return k}function h(o,m){m=m||{};var l=[];if(typeof o==="string"){l=d(document.querySelectorAll(o))}else{if(typeof o==="object"&&typeof o.nodeName==="string"){l=[o]}}for(var n=0,k=l.length;n<k;n++){(function(){var q=l[n];if(typeof q.addEventListener==="function"){var p=f(q);var r=-1;q.addEventListener("click",function(w){var v=true;var u=g(q,"FORM");if(typeof u!=="undefined"){if(typeof u.checkValidity==="function"){v=u.checkValidity()}else{var s=b(u);for(var t=0;t<s.length;t++){if(s[t].value.replace(/^\s+|\s+$/g,"")===""){v=false}if((s[t].type==="checkbox"||s[t].type==="radio")&&!s[t].checked){v=false}if(s[t].type==="email"){v=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(s[t].value)}}}}if(v){p.startAfter(1);if(typeof m.timeout==="number"){clearTimeout(r);r=setTimeout(p.stop,m.timeout)}if(typeof m.callback==="function"){m.callback.apply(null,[p])}}},false)}})()}}function a(){for(var l=0,k=e.length;l<k;l++){e[l].stop()}}function i(m){var l=m.offsetHeight,q,p;if(l===0){l=parseFloat(window.getComputedStyle(m).height)}if(l>32){l*=0.8}if(m.hasAttribute("data-spinner-size")){l=parseInt(m.getAttribute("data-spinner-size"),10)}if(m.hasAttribute("data-spinner-color")){q=m.getAttribute("data-spinner-color")}if(m.hasAttribute("data-spinner-lines")){p=parseInt(m.getAttribute("data-spinner-lines"),10)}var k=l*0.2,o=k*0.6,n=k<7?2:3;return new c({color:q||"#fff",lines:p||12,radius:k,length:o,width:n,zIndex:"auto",top:"auto",left:"auto",className:""})}function d(l){var k=[];for(var m=0;m<l.length;m++){k.push(l[m])}return k}function j(l,m){var k=document.createRange();k.selectNodeContents(l);k.surroundContents(m);l.appendChild(m)}return{bind:h,create:f,stopAll:a}}));